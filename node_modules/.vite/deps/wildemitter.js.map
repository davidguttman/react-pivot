{
  "version": 3,
  "sources": ["../../wildemitter/wildemitter.js"],
  "sourcesContent": ["/*\r\nWildEmitter.js is a slim little event emitter by @henrikjoreteg largely based\r\non @visionmedia's Emitter from UI Kit.\r\n\r\nWhy? I wanted it standalone.\r\n\r\nI also wanted support for wildcard emitters like this:\r\n\r\nemitter.on('*', function (eventName, other, event, payloads) {\r\n\r\n});\r\n\r\nemitter.on('somenamespace*', function (eventName, payloads) {\r\n\r\n});\r\n\r\nPlease note that callbacks triggered by wildcard registered events also get\r\nthe event name as the first argument.\r\n*/\r\n\r\nmodule.exports = WildEmitter;\r\n\r\nfunction WildEmitter() { }\r\n\r\nWildEmitter.mixin = function (constructor) {\r\n    var prototype = constructor.prototype || constructor;\r\n\r\n    prototype.isWildEmitter= true;\r\n\r\n    // Listen on the given `event` with `fn`. Store a group name if present.\r\n    prototype.on = function (event, groupName, fn) {\r\n        this.callbacks = this.callbacks || {};\r\n        var hasGroup = (arguments.length === 3),\r\n            group = hasGroup ? arguments[1] : undefined,\r\n            func = hasGroup ? arguments[2] : arguments[1];\r\n        func._groupName = group;\r\n        (this.callbacks[event] = this.callbacks[event] || []).push(func);\r\n        return this;\r\n    };\r\n\r\n    // Adds an `event` listener that will be invoked a single\r\n    // time then automatically removed.\r\n    prototype.once = function (event, groupName, fn) {\r\n        var self = this,\r\n            hasGroup = (arguments.length === 3),\r\n            group = hasGroup ? arguments[1] : undefined,\r\n            func = hasGroup ? arguments[2] : arguments[1];\r\n        function on() {\r\n            self.off(event, on);\r\n            func.apply(this, arguments);\r\n        }\r\n        this.on(event, group, on);\r\n        return this;\r\n    };\r\n\r\n    // Unbinds an entire group\r\n    prototype.releaseGroup = function (groupName) {\r\n        this.callbacks = this.callbacks || {};\r\n        var item, i, len, handlers;\r\n        for (item in this.callbacks) {\r\n            handlers = this.callbacks[item];\r\n            for (i = 0, len = handlers.length; i < len; i++) {\r\n                if (handlers[i]._groupName === groupName) {\r\n                    //console.log('removing');\r\n                    // remove it and shorten the array we're looping through\r\n                    handlers.splice(i, 1);\r\n                    i--;\r\n                    len--;\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    // Remove the given callback for `event` or all\r\n    // registered callbacks.\r\n    prototype.off = function (event, fn) {\r\n        this.callbacks = this.callbacks || {};\r\n        var callbacks = this.callbacks[event],\r\n            i;\r\n\r\n        if (!callbacks) return this;\r\n\r\n        // remove all handlers\r\n        if (arguments.length === 1) {\r\n            delete this.callbacks[event];\r\n            return this;\r\n        }\r\n\r\n        // remove specific handler\r\n        i = callbacks.indexOf(fn);\r\n        callbacks.splice(i, 1);\r\n        if (callbacks.length === 0) {\r\n            delete this.callbacks[event];\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /// Emit `event` with the given args.\r\n    // also calls any `*` handlers\r\n    prototype.emit = function (event) {\r\n        this.callbacks = this.callbacks || {};\r\n        var args = [].slice.call(arguments, 1),\r\n            callbacks = this.callbacks[event],\r\n            specialCallbacks = this.getWildcardCallbacks(event),\r\n            i,\r\n            len,\r\n            item,\r\n            listeners;\r\n\r\n        if (callbacks) {\r\n            listeners = callbacks.slice();\r\n            for (i = 0, len = listeners.length; i < len; ++i) {\r\n                if (!listeners[i]) {\r\n                    break;\r\n                }\r\n                listeners[i].apply(this, args);\r\n            }\r\n        }\r\n\r\n        if (specialCallbacks) {\r\n            len = specialCallbacks.length;\r\n            listeners = specialCallbacks.slice();\r\n            for (i = 0, len = listeners.length; i < len; ++i) {\r\n                if (!listeners[i]) {\r\n                    break;\r\n                }\r\n                listeners[i].apply(this, [event].concat(args));\r\n            }\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    // Helper for for finding special wildcard event handlers that match the event\r\n    prototype.getWildcardCallbacks = function (eventName) {\r\n        this.callbacks = this.callbacks || {};\r\n        var item,\r\n            split,\r\n            result = [];\r\n\r\n        for (item in this.callbacks) {\r\n            split = item.split('*');\r\n            if (item === '*' || (split.length === 2 && eventName.slice(0, split[0].length) === split[0])) {\r\n                result = result.concat(this.callbacks[item]);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n\r\n};\r\n\r\nWildEmitter.mixin(WildEmitter);\r\n"],
  "mappings": "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",
  "names": []
}
